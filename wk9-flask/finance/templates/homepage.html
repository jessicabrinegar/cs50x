{% extends "layout.html" %}

{% block title %}
    Home
{% endblock %}

{% block main %}
        <h2>Your stocks</h2>
    <table class="table table-striped mt-4">
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Name</th>
                <th>Shares</th>
                <th>Current Price (per share)</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            {% for stock in stocks %}
                <tr>
                    <td>{{ stock["stock_symbol"] }}</td>
                    <td>{{ stock["name"] }}</td>
                    <td>{{ stock["number_shares"] }}</td>
                    <td>{{ stock["price"] }}</td>
                    <td>{{ stock["value"] }}</td>
                    <!-- <td class="d-flex justify-content-between" colspan="2">
                        <form action="/buy" method="post" class="d-flex w-100 mx-1">
                            <input class="d-none" name="symbol" value = "{{stock['stock_symbol']}}" type="text">
                            <input autocomplete="off" autofocus class="form-control w-100 mx-1" id="shares" name="shares" placeholder="# to buy" type="number" min="1">
                            <button class=" btn btn-primary px-2 py-0" type="submit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-plus" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 7.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0v-1.5H6a.5.5 0 0 1 0-1h1.5V8a.5.5 0 0 1 .5-.5z"/>
                                <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
                                </svg>
                            </button>
                        </form>
                        <form action="/sell" method="post" class="d-flex w-100 mx-1">
                            <input class="d-none" name="symbol" value = "{{stock['stock_symbol']}}" type="text">
                            <input autocomplete="off" autofocus class="form-control w-100 mx-1" id="shares" name="shares" placeholder="# to sell" type="number" min="1" max="{{stock['number_shares']}}">
                            <button class="btn btn-primary px-2 py-0" type="submit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag-dash" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M5.5 10a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>
                                    <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
                                  </svg>
                            </button>
                        </form>
                    </td> -->
                </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td colspan="5" align="right"><strong>Cash Remaining: </strong>{{ cash | usd}}</td>
            </tr>
            <tr>
                <td colspan="5" align="right"><strong>TOTAL Value: </strong>{{ total_value | usd}}</td>
            </tr>
        </tfoot>
    </table>
{% endblock %}